<!DOCTYPE html>
<html lang="English">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>ios | trustdevice</title>
    <meta name="generator" content="VuePress 1.9.9">
    <link rel="icon" href="/td/logo/icon.png">
    <script>
            var _hmt = _hmt || [];
            (function() {
            var hm = document.createElement("script");
            hm.src = "https://hm.baidu.com/hm.js?4430f3f32f20bc88a8d30fe02df17081";
            var s = document.getElementsByTagName("script")[0];
            s.parentNode.insertBefore(hm, s); })();
            </script>
    <meta name="description" content="">
    <meta name="google-site-verification" content="NSp25_zH--p8r461f1YcEUt0LX9s7oRnyP3iBTvANIQ">
    <meta name="baidu-site-verification" content="codeva-A2SMJcZcws">
    
    <link rel="preload" href="/td/assets/css/0.styles.a099e45a.css" as="style"><link rel="preload" href="/td/assets/js/app.185a84cc.js" as="script"><link rel="preload" href="/td/assets/js/2.2e3d5896.js" as="script"><link rel="preload" href="/td/assets/js/30.e127d219.js" as="script"><link rel="prefetch" href="/td/assets/js/10.d1a0450d.js"><link rel="prefetch" href="/td/assets/js/11.20c64dab.js"><link rel="prefetch" href="/td/assets/js/12.3d8ad0f6.js"><link rel="prefetch" href="/td/assets/js/13.97bdc425.js"><link rel="prefetch" href="/td/assets/js/14.ffcd274e.js"><link rel="prefetch" href="/td/assets/js/15.276ed812.js"><link rel="prefetch" href="/td/assets/js/16.e2de7c8c.js"><link rel="prefetch" href="/td/assets/js/17.77d1d906.js"><link rel="prefetch" href="/td/assets/js/18.b7c44b45.js"><link rel="prefetch" href="/td/assets/js/19.f3fdc9fc.js"><link rel="prefetch" href="/td/assets/js/20.4ce2f16d.js"><link rel="prefetch" href="/td/assets/js/21.9106a342.js"><link rel="prefetch" href="/td/assets/js/22.8de5b04e.js"><link rel="prefetch" href="/td/assets/js/23.75f67d14.js"><link rel="prefetch" href="/td/assets/js/24.7c417886.js"><link rel="prefetch" href="/td/assets/js/25.7ced5130.js"><link rel="prefetch" href="/td/assets/js/26.4e29552d.js"><link rel="prefetch" href="/td/assets/js/27.c528b1c4.js"><link rel="prefetch" href="/td/assets/js/28.1858c5da.js"><link rel="prefetch" href="/td/assets/js/29.bf9bfb41.js"><link rel="prefetch" href="/td/assets/js/3.2158ca86.js"><link rel="prefetch" href="/td/assets/js/31.af9c2105.js"><link rel="prefetch" href="/td/assets/js/32.b89c8ceb.js"><link rel="prefetch" href="/td/assets/js/33.110a9675.js"><link rel="prefetch" href="/td/assets/js/34.2ef87457.js"><link rel="prefetch" href="/td/assets/js/35.35d7147e.js"><link rel="prefetch" href="/td/assets/js/36.4f7e50ed.js"><link rel="prefetch" href="/td/assets/js/37.65bebbe2.js"><link rel="prefetch" href="/td/assets/js/38.a12717c4.js"><link rel="prefetch" href="/td/assets/js/39.4d2a5484.js"><link rel="prefetch" href="/td/assets/js/4.2885e313.js"><link rel="prefetch" href="/td/assets/js/40.e61eb3cb.js"><link rel="prefetch" href="/td/assets/js/41.b36c9bc6.js"><link rel="prefetch" href="/td/assets/js/42.6923d430.js"><link rel="prefetch" href="/td/assets/js/43.c0676a63.js"><link rel="prefetch" href="/td/assets/js/44.a4deda5e.js"><link rel="prefetch" href="/td/assets/js/45.f7fa5a91.js"><link rel="prefetch" href="/td/assets/js/46.eb23c720.js"><link rel="prefetch" href="/td/assets/js/47.21918068.js"><link rel="prefetch" href="/td/assets/js/48.6944f99d.js"><link rel="prefetch" href="/td/assets/js/49.0e78f848.js"><link rel="prefetch" href="/td/assets/js/5.102392b0.js"><link rel="prefetch" href="/td/assets/js/50.923f3a0a.js"><link rel="prefetch" href="/td/assets/js/51.502adbfd.js"><link rel="prefetch" href="/td/assets/js/52.39a8f530.js"><link rel="prefetch" href="/td/assets/js/53.86260b02.js"><link rel="prefetch" href="/td/assets/js/54.4536f93c.js"><link rel="prefetch" href="/td/assets/js/55.0dc4fe6a.js"><link rel="prefetch" href="/td/assets/js/56.f97e27e3.js"><link rel="prefetch" href="/td/assets/js/57.8476743f.js"><link rel="prefetch" href="/td/assets/js/58.93c9de17.js"><link rel="prefetch" href="/td/assets/js/59.0bea9c2e.js"><link rel="prefetch" href="/td/assets/js/6.ea70f831.js"><link rel="prefetch" href="/td/assets/js/7.3611bbe9.js"><link rel="prefetch" href="/td/assets/js/8.8fde20e2.js"><link rel="prefetch" href="/td/assets/js/9.29164caf.js">
    <link rel="stylesheet" href="/td/assets/css/0.styles.a099e45a.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/td/" class="home-link router-link-active"><img src="/td/logo/icon.png" alt="trustdevice" class="logo"> <span class="site-name can-hide">trustdevice</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/td/doc/" class="nav-link router-link-active">
  Documentation
</a></div><div class="nav-item"><a href="/td/blog/" class="nav-link">
  Blog
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Select language" class="dropdown-title"><span class="title">Languages</span> <span class="arrow down"></span></button> <button type="button" aria-label="Select language" class="mobile-dropdown-title"><span class="title">Languages</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/td/doc/fingerprint/ios.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  English
</a></li><li class="dropdown-item"><!----> <a href="/td/zh/doc/fingerprint/ios.html" class="nav-link">
  简体中文
</a></li></ul></div></div> <a href="https://github.com/trustdecision" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/td/doc/" class="nav-link router-link-active">
  Documentation
</a></div><div class="nav-item"><a href="/td/blog/" class="nav-link">
  Blog
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Select language" class="dropdown-title"><span class="title">Languages</span> <span class="arrow down"></span></button> <button type="button" aria-label="Select language" class="mobile-dropdown-title"><span class="title">Languages</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/td/doc/fingerprint/ios.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  English
</a></li><li class="dropdown-item"><!----> <a href="/td/zh/doc/fingerprint/ios.html" class="nav-link">
  简体中文
</a></li></ul></div></div> <a href="https://github.com/trustdecision" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span></span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/td/doc/" aria-current="page" class="sidebar-link">Overview</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Fingerprint</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/td/doc/fingerprint/android.html" class="sidebar-link">Android</a></li><li><a href="/td/doc/fingerprint/ios.html" aria-current="page" class="active sidebar-link">iOS</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/td/doc/fingerprint/ios.html#compliance-explanation" class="sidebar-link">Compliance Explanation</a></li><li class="sidebar-sub-header"><a href="/td/doc/fingerprint/ios.html#environment" class="sidebar-link">Environment</a></li><li class="sidebar-sub-header"><a href="/td/doc/fingerprint/ios.html#cocoapods" class="sidebar-link">CocoaPods</a></li><li class="sidebar-sub-header"><a href="/td/doc/fingerprint/ios.html#sdk-structure" class="sidebar-link">SDK Structure</a></li><li class="sidebar-sub-header"><a href="/td/doc/fingerprint/ios.html#import-header-file" class="sidebar-link">Import Header File</a></li><li class="sidebar-sub-header"><a href="/td/doc/fingerprint/ios.html#initialization" class="sidebar-link">Initialization</a></li><li class="sidebar-sub-header"><a href="/td/doc/fingerprint/ios.html#get-sdk-version" class="sidebar-link">Get SDK Version</a></li><li class="sidebar-sub-header"><a href="/td/doc/fingerprint/ios.html#initwithoptions-optional-parameter" class="sidebar-link">initWithOptions Optional Parameter</a></li><li class="sidebar-sub-header"><a href="/td/doc/fingerprint/ios.html#get-blackbox" class="sidebar-link">Get Blackbox</a></li></ul></li><li><a href="/td/doc/fingerprint/js.html" class="sidebar-link">Web</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Captcha</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/td/doc/captcha/android.html" class="sidebar-link">Android</a></li><li><a href="/td/doc/captcha/ios.html" class="sidebar-link">iOS</a></li><li><a href="/td/doc/captcha/js.html" class="sidebar-link">Web</a></li><li><a href="/td/doc/captcha/weChat.html" class="sidebar-link">WeChat</a></li><li><a href="/td/doc/captcha/alipay.html" class="sidebar-link">Alipay</a></li><li><a href="/td/doc/captcha/byteDance.html" class="sidebar-link">ByteDance</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="integrated-requirement"><a href="#integrated-requirement" class="header-anchor">#</a> Integrated Requirement</h1> <h2 id="compliance-explanation"><a href="#compliance-explanation" class="header-anchor">#</a> Compliance Explanation</h2> <p>Please note that when integrating SDK products provided by the TrustDecision in the APP of your company:</p> <p>1.1 According to the user's information protection regulations, before your users start the App for the first time and start collecting information, your company should fully inform the user of the purpose, method, and scope of collecting, using, and sharing the user's personal information with a third party through an interactive interface or design (such as a pop-up window of the privacy policy), and obtain the express consent of the end user.</p> <p>1.2 To provide business security and risk control services to your company, the TrustDecision SDK will collect, process, and use the identification information（IMEI/IDFA）, AndroidID, IMSI, MEID, MAC address, SIM card serial number, device type, device model, system type, geographical location, login IP address, application list, running process, sensor information(light sensor, gravity sensor, magnetic field sensor, acceleration sensor, gyroscope sensor) and other device information of the user's device. To ensure compliance with your use of related services, the aforementioned privacy policy should cover the authorization of TrustDecision SDK to provide services and collect, process, and use relevant information. The following terms are for your reference. The specific expression can be determined by your company according to the overall framework and content of your privacy agreement:</p> <table border="1"><tr><td style="background-color:#FAFAFA;"><font size="2">TrustDecision SDK: For business security and risk control, our company uses the TrustDecision SDK. The SDK needs to obtain the information of your devices, such as （IMEI/IDFA）, AndroidID, IMSI, MAC address, SIM card serial number, device type, device model, system type, geographic location, login IP address, application list, running process, sensor information(light sensor, gravity sensor, magnetic field sensor, acceleration sensor, gyroscope sensor) and other related device information, for fraud risk identification.</font></td></tr></table> <p><strong>Privacy Protocol:</strong> <a href="https://www.trustdecision.com/legal/privacy-policy" target="_blank" rel="noopener noreferrer">https://www.trustdecision.com/legal/privacy-policy<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h2 id="environment"><a href="#environment" class="header-anchor">#</a> Environment</h2> <table><thead><tr><th>Items</th> <th>Description</th></tr></thead> <tbody><tr><td>Supported System Versions</td> <td>iOS9.0+</td></tr> <tr><td>Supporting architecture</td> <td>armv7, arm64, x86_64</td></tr></tbody></table> <h1 id="integrate-steps"><a href="#integrate-steps" class="header-anchor">#</a> Integrate Steps</h1> <h2 id="cocoapods"><a href="#cocoapods" class="header-anchor">#</a> CocoaPods</h2> <ul><li>Added <code>pod 'TrustDecisionPro', '4.2.4.2'</code> in the corresponding target in the Podfile</li> <li>Execute the <code>pod install --repo-update</code> command in the folder where the Podfile is located. (M1 series mac computers need to execute <code>arch -x86_64 pod install --repo-update</code> command)</li></ul> <h2 id="sdk-structure"><a href="#sdk-structure" class="header-anchor">#</a> SDK Structure</h2> <p>files in Pods/TrustDecisionPro directory:</p> <ul><li>TDMobRisk.framework（TrustDecision SDK, is a static library type）</li> <li>TDCorePlugin.framework （TrustDecision plugin, is an Embed dynamic library type）</li></ul> <h2 id="import-header-file"><a href="#import-header-file" class="header-anchor">#</a> Import Header File</h2> <p>Please import the header file if you want to call SDK API.
Objective C</p> <div class="language-objective extra-class"><pre class="language-text"><code>#import &lt;TDMobRisk/TDMobRisk.h&gt;
</code></pre></div><p>Swift</p> <div class="language-swift extra-class"><pre class="language-swift"><code><span class="token keyword">import</span> <span class="token class-name">TDMobRisk</span>
</code></pre></div><h2 id="initialization"><a href="#initialization" class="header-anchor">#</a> Initialization</h2> <p><strong>Precautions</strong></p> <p>When the installation starts for the first time, the SDK initialization is performed after the user agrees with the privacy agreement.
Avoid SDK initialization collection without the user agreeing to the privacy agreement, causing compliance risk accidents.</p> <h3 id="interface-definition"><a href="#interface-definition" class="header-anchor">#</a> Interface Definition</h3> <div class="language-c extra-class"><pre class="language-c"><code><span class="token keyword">void</span> <span class="token punctuation">(</span><span class="token operator">*</span>initWithOptions<span class="token punctuation">)</span><span class="token punctuation">(</span>NSDictionary <span class="token operator">*</span>options<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><strong>Sample Code</strong>
Objective C</p> <div class="language-objective extra-class"><pre class="language-text"><code>- (void)initTrustDecisionSDK:(void (^)(NSString *blackbox))callback {
  // Get riskManager
  TDMobRiskManager_t *riskManager = [TDMobRiskManager sharedManager];
  // Initialization Configuration
  NSMutableDictionary *options = [NSMutableDictionary dictionary];

/*************************** Mandatory Parameter ***************************/
  //Partner code, Refer to `Required Configuration`
  [options setValue:@&quot;[Your partner]&quot; forKey:@&quot;partner&quot;];
  //App key, Refer to `Required Configuration`
  [options setValue:@&quot;[Your appKey]&quot; forKey:@&quot;appKey&quot;];
  //App name, Refer to `Required Configuration`
  [options setValue:@&quot;[Your appName]&quot; forKey:@&quot;appName&quot;];
  //Country code, Refer to `Required Configuration`
  [options setValue:@&quot;[Your country code]&quot; forKey:@&quot;country&quot;];

/*************************** Optional Parameter ***************************/
#ifdef DEBUG
  // !!! If not set this parameter in DEBUG mode, the app will terminate
  [options setValue:@&quot;allowed&quot; forKey:@&quot;allowed&quot;];
#endif
  [options setValue:^(NSString *blackbox) {
  // The callback here is in the sub-thread
  // Under normal network conditions, the results will be returned within 200-300ms.
  // If the network is abnormal, it will return after the timeout timeLimit (default: 15s).
    if (callback) {
        callback(blackbox);
    }
  } forKey:@&quot;callback&quot;];
  riskManager-&gt;initWithOptions(options);
}
</code></pre></div><p>Swift</p> <div class="language-swift extra-class"><pre class="language-swift"><code><span class="token keyword">func</span> <span class="token function-definition function">initTrustDecisionSDK</span><span class="token punctuation">(</span>callback<span class="token punctuation">:</span> <span class="token attribute atrule">@escaping</span> <span class="token punctuation">(</span><span class="token omit keyword">_</span> blackBox<span class="token punctuation">:</span><span class="token class-name">String</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token class-name">Void</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> riskManager <span class="token operator">=</span> <span class="token class-name">TDMobRiskManager</span><span class="token punctuation">.</span><span class="token function">sharedManager</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token keyword">var</span> options <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token class-name">String</span> <span class="token punctuation">:</span> <span class="token class-name">NSObject</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token comment">/*************************** Mandatory Parameter ***************************/</span>
  <span class="token comment">// Partner code, Refer to `Required Configuration`</span>
  options<span class="token punctuation">.</span><span class="token function">updateValue</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">&quot;[Your partner]&quot;</span></span> <span class="token keyword">as</span> <span class="token class-name">NSObject</span><span class="token punctuation">,</span> forKey<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">&quot;partner&quot;</span></span><span class="token punctuation">)</span>
  <span class="token comment">// App key, Refer to `Required Configuration`</span>
  options<span class="token punctuation">.</span><span class="token function">updateValue</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">&quot;[Your appKey]&quot;</span></span> <span class="token keyword">as</span> <span class="token class-name">NSObject</span><span class="token punctuation">,</span> forKey<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">&quot;appKey&quot;</span></span><span class="token punctuation">)</span>
  <span class="token comment">// App name, Refer to `Required Configuration`</span>
  options<span class="token punctuation">.</span><span class="token function">updateValue</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">&quot;[Your appName]&quot;</span></span> <span class="token keyword">as</span> <span class="token class-name">NSObject</span><span class="token punctuation">,</span> forKey<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">&quot;appName&quot;</span></span><span class="token punctuation">)</span>
  <span class="token comment">// Country code, Refer to `Required Configuration`</span>
  options<span class="token punctuation">.</span><span class="token function">updateValue</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">&quot;[Your country]&quot;</span></span> <span class="token keyword">as</span> <span class="token class-name">NSObject</span><span class="token punctuation">,</span> forKey<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">&quot;country&quot;</span></span><span class="token punctuation">)</span>

   <span class="token comment">/*************************** Optional Parameter ***************************/</span>
<span class="token directive property"><span class="token directive-name">#if</span> DEBUG</span>
  <span class="token comment">// !!! If not set this parameter in DEBUG mode, the app will terminate</span>
  options<span class="token punctuation">.</span><span class="token function">updateValue</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">&quot;allowed&quot;</span></span> <span class="token keyword">as</span> <span class="token class-name">NSObject</span><span class="token punctuation">,</span> forKey<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">&quot;allowed&quot;</span></span><span class="token punctuation">)</span>
<span class="token directive property"><span class="token directive-name">#endif</span></span>

  <span class="token keyword">let</span> tdcallback<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span> <span class="token class-name">Void</span> <span class="token operator">=</span> <span class="token punctuation">{</span>blackBox <span class="token keyword">in</span>
  <span class="token comment">// The callback here is in the sub-thread</span>
  <span class="token comment">// Under normal network conditions, the results will be returned within 200-300ms.</span>
  <span class="token comment">// If the network is abnormal, it will return after the timeout timeLimit (default: 15s).</span>
    <span class="token function">callback</span><span class="token punctuation">(</span>blackBox<span class="token punctuation">)</span>
 <span class="token punctuation">}</span>
 options<span class="token punctuation">[</span><span class="token string-literal"><span class="token string">&quot;callback&quot;</span></span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">unsafeBitCast</span><span class="token punctuation">(</span>tdcallback <span class="token keyword">as</span> <span class="token attribute atrule">@convention</span><span class="token punctuation">(</span>block<span class="token punctuation">)</span> <span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">)</span>
<span class="token operator">-&gt;</span> <span class="token class-name">Void</span><span class="token punctuation">,</span> to<span class="token punctuation">:</span> <span class="token class-name">AnyObject</span><span class="token punctuation">.</span><span class="token keyword">self</span><span class="token punctuation">)</span> <span class="token keyword">as</span><span class="token operator">?</span> <span class="token class-name">NSObject</span>
 riskManager<span class="token operator">?</span><span class="token punctuation">.</span>pointee<span class="token punctuation">.</span><span class="token function">initWithOptions</span><span class="token punctuation">(</span>options<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><p><strong>Required Configuration</strong></p> <table><thead><tr><th>Key</th> <th>Definition</th> <th>Description</th> <th>Scene</th> <th>Sample code</th></tr></thead> <tbody><tr><td>partner</td> <td>Partner code</td> <td>Partner, please contact TrustDecision to obtain</td> <td>All Scenes</td> <td><strong>Objective C</strong> [options setValue:@&quot;[Your partner]&quot; forKey:@&quot;partner&quot;]; <strong>Swift</strong> options.updateValue(&quot;[Your partner]&quot; as NSObject, forKey: &quot;partner&quot;)</td></tr> <tr><td>appKey</td> <td>App key</td> <td>Appkey, please offer your App bundleId for TrustDecision to obtain appkey creation requires the user to provide the application bundleId. ⚠️ Different values for bundleId are used for different applications</td> <td>All Scenes</td> <td><strong>Objective C</strong> [options setValue:@&quot;[Your appKey]&quot; forKey:@&quot;appKey&quot;]; <strong>Swift</strong> options.updateValue(&quot;[Your appKey]&quot; as NSObject, forKey: &quot;appKey&quot;)</td></tr> <tr><td>appName</td> <td>App name</td> <td>AppName, please contact TrustDecision to obtain</td> <td>All Scenes</td> <td><strong>Objective C</strong> [options setValue:@&quot;[Your appName]&quot; forKey:@&quot;appName&quot;]; <strong>Swift</strong> options.updateValue(&quot;[Your appName]&quot; as NSObject, forKey: &quot;appName&quot;)</td></tr> <tr><td>country</td> <td>Country code</td> <td>Country/region parameters, such as cn sg us fra</td> <td>Fill in the corresponding parameters according to country and region of business. cn means China, sg means Singapore, us means North America, fra means Europe</td> <td><strong>Objective C</strong> [options setValue:@&quot;[Your country code]&quot; forKey:@&quot;country&quot;]; <strong>Swift</strong> options.updateValue(&quot;[Your country code]&quot; as NSObject, forKey: &quot;country&quot;)</td></tr></tbody></table> <h2 id="get-sdk-version"><a href="#get-sdk-version" class="header-anchor">#</a> Get SDK Version</h2> <p><strong>Sample Code</strong></p> <p>Objective C</p> <div class="language-objective extra-class"><pre class="language-text"><code>// Get SDKVersion
TDMobRiskManager_t *riskManager = [TDMobRiskManager sharedManager];
NSString *sdkVersion = riskManager-&gt;getSDKVersion();
</code></pre></div><p>Swift</p> <div class="language-swift extra-class"><pre class="language-swift"><code><span class="token comment">// Get SDKVersion</span>
<span class="token keyword">let</span> riskManager <span class="token operator">=</span> <span class="token class-name">TDMobRiskManager</span><span class="token punctuation">.</span><span class="token function">sharedManager</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> sdkVersion <span class="token operator">=</span> riskManager<span class="token operator">?</span><span class="token punctuation">.</span>pointee<span class="token punctuation">.</span><span class="token function">getSDKVersion</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><h1 id="fingerprint"><a href="#fingerprint" class="header-anchor">#</a> Fingerprint</h1> <h2 id="initwithoptions-optional-parameter"><a href="#initwithoptions-optional-parameter" class="header-anchor">#</a> initWithOptions Optional Parameter</h2> <table><thead><tr><th>Key</th> <th>Definition</th> <th>Description</th> <th>Scene</th> <th>Sample code</th></tr></thead> <tbody><tr><td>allowed</td> <td>Anti-debugging configuration</td> <td>After the SDK is integrated, the app has the anti-debugging function by default. If you don't want this feature, please set allowed to disable it.</td> <td><strong>Develop:</strong> Please set this configuration. <strong>Release:</strong> Please remove this configuration.</td> <td><strong>Objective C</strong> [options setValue:@&quot;allowed&quot; forKey:@&quot;allowed&quot;]; <strong>Swift</strong> options.updateValue(&quot;allowed&quot; as NSObject, forKey: &quot;allowed&quot;)</td></tr> <tr><td>timeLimit</td> <td>SDK timeout interval Configuration (unit: seconds)</td> <td>Timeout interval of network request callback after SDK initialization. Default is 15s.</td> <td>If you have certain requirements for the callback time of the SDK, please set timeLimit.</td> <td><strong>Objective C</strong> [options setValue:@&quot;5&quot; forKey:@&quot;timeLimit&quot;]; <strong>Swift</strong> options.updateValue(&quot;5&quot; as NSObject, forKey: &quot;timeLimit&quot;)</td></tr> <tr><td>noLocation</td> <td>SDK location information collection configuration</td> <td>SDK collects location if the app has been authorized to get location information.</td> <td>If you don't want SDK to collect location information, please set noLocation.</td> <td><strong>Objective C</strong> [options setValue:@&quot;noLocation&quot; forKey:@&quot;noLocation&quot;]; <strong>Swift</strong> options.updateValue(&quot;noLocation&quot; as NSObject, forKey: &quot;noLocation&quot;)</td></tr> <tr><td>noIDFA</td> <td>SDK Advertising Identifier (IDFA) collection configuration</td> <td>SDK collects IDFA if the app has been authorized to get IDFA information.</td> <td>If you don't want SDK to collect IDFA information and contain IDFA-related code, please set noIDFA.</td> <td><strong>Objective C</strong> [options setValue:@&quot;noIDFA&quot; forKey:@&quot;noIDFA&quot;]; <strong>Swift</strong> options.updateValue(&quot;noIDFA&quot; as NSObject, forKey: &quot;noIDFA&quot;)</td></tr> <tr><td>noDeviceName</td> <td>SDK deviceName collection configuration</td> <td>SDK collects deviceName if the app has been authorized to get deviceName information.</td> <td>If you don't want SDK to collect deviceName information, please set noDeviceName.</td> <td><strong>Objective C</strong> [options setValue:@&quot;noDeviceName&quot; forKey:@&quot;noDeviceName&quot;]; <strong>Swift</strong> options.updateValue(&quot;noDeviceName&quot; as NSObject, forKey: &quot;noDeviceName&quot;)</td></tr> <tr><td>callback</td> <td>SDK asynchronous callback configuration</td> <td>After the SDK uploads and collects data, it returns the blackbox according to the network request results. <strong>Success:</strong> Return non-degraded blackbox. <strong>Failed:</strong> Return degraded blackbox.</td> <td>If you want to get a non-degraded blackbox as much as possible, please set a callback to get blackbox.</td> <td><strong>Objective C</strong> [options setValue:^(NSString *blackbox) {} forKey:@&quot;callback&quot;]; <strong>Swift</strong> let callback: (String)-&gt; Void = {blackBox in } options[&quot;callback&quot;] = unsafeBitCast(callback as @convention(block) (String) -&gt; Void, to: AnyObject.self) as? NSObject</td></tr> <tr><td>collectLevel</td> <td>Degraded blackbox length configuration</td> <td>Degraded blackbox will be longer. This configuration allows you to control the length of the degraded blackbox</td> <td>If you wish the degraded blackbox length is as short as possible, please set this configuration.</td> <td><strong>Objective C</strong> [options setValue:@&quot;M&quot; forKey:@&quot;collectLevel&quot;]; <strong>Swift</strong> options.updateValue(&quot;M&quot; as NSObject, forKey: &quot;collectLevel&quot;)</td></tr></tbody></table> <h2 id="get-blackbox"><a href="#get-blackbox" class="header-anchor">#</a> Get Blackbox</h2> <p><strong>Attention</strong></p> <ul><li>Please <code>getBlackBox</code> after <code>initWithOptions</code>, otherwise SDK exceptions will be caused.</li> <li>We suggest that developers do not cache the results returned by <code>getBlackBox</code> in the app. Please rely on this function to get blackbox.</li></ul> <p><strong>Sample Code</strong></p> <p>Objective C</p> <div class="language-objective extra-class"><pre class="language-text"><code>// Get BlackBox
TDMobRiskManager_t *riskManager = [TDMobRiskManager sharedManager];
NSString *blackbox = riskManager-&gt;getBlackBox();
</code></pre></div><p>Swift</p> <div class="language-swift extra-class"><pre class="language-swift"><code><span class="token comment">// Get BlackBox</span>
<span class="token keyword">let</span> riskManager <span class="token operator">=</span> <span class="token class-name">TDMobRiskManager</span><span class="token punctuation">.</span><span class="token function">sharedManager</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> blackBox <span class="token operator">=</span> riskManager<span class="token operator">?</span><span class="token punctuation">.</span>pointee<span class="token punctuation">.</span><span class="token function">getBlackBox</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><h1 id="faq"><a href="#faq" class="header-anchor">#</a> FAQ</h1> <p><strong>Q1</strong>：After Integrating the TrustDecision SDK, the project cannot be debugged in Xcode. How to solve it?</p> <p><strong>A1</strong>：Please refer to <a href="https://doc.trustdecision.com/API?article=38822&amp;version=182#Initialization" target="_blank" rel="noopener noreferrer">Initialization<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> When the TrustDecision SDK is initialized, add the following parameters</p> <p>Objective C</p> <div class="language-objective extra-class"><pre class="language-text"><code>[options setValue:@&quot;allowed&quot; forKey:@&quot;allowed&quot;];
</code></pre></div><p>Swift</p> <div class="language-swift extra-class"><pre class="language-swift"><code>options<span class="token punctuation">.</span><span class="token function">updateValue</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">&quot;allowed&quot;</span></span> <span class="token keyword">as</span> <span class="token class-name">NSObject</span><span class="token punctuation">,</span> forKey<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">&quot;allowed&quot;</span></span><span class="token punctuation">)</span>
</code></pre></div></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">:</span> <span class="time">2023/06/07 16:19:48</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/td/doc/fingerprint/android.html" class="prev">
        Android
      </a></span> <span class="next"><a href="/td/doc/fingerprint/js.html">
        Web
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><div></div></div></div>
    <script src="/td/assets/js/app.185a84cc.js" defer></script><script src="/td/assets/js/2.2e3d5896.js" defer></script><script src="/td/assets/js/30.e127d219.js" defer></script>
  </body>
</html>
